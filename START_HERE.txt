â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                              â•‘
â•‘         ğŸš€ IOT BOTNET DETECTION - TWO-STAGE CLASSIFICATION ğŸš€               â•‘
â•‘                                                                              â•‘
â•‘                          Lambda Team - Oct 2025                              â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Œ Báº N CÃ“ 3 PHÆ¯Æ NG ÃN Äá»‚ CHá»ŒN:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â­ PHÆ¯Æ NG ÃN 3: TWO-STAGE HIERARCHICAL (RECOMMENDED!)                        â”‚
â”‚    File: 04_hierarchical_two_stage_classification.py                         â”‚
â”‚                                                                              â”‚
â”‚    Stage 1: PhÃ¡t hiá»‡n cÃ³ táº¥n cÃ´ng khÃ´ng? (Attack vs Normal)                 â”‚
â”‚    Stage 2: Náº¿u táº¥n cÃ´ng â†’ Loáº¡i nÃ o? (DDoS, DoS, Reconnaissance)            â”‚
â”‚                                                                              â”‚
â”‚    âœ… Xá»­ lÃ½ tá»‘t EXTREME imbalance (3 Normal vs 29K Attack)                   â”‚
â”‚    âœ… Accuracy cao cho cáº£ detection vÃ  classification                        â”‚
â”‚    âœ… ÄÃºng vá»›i má»i Ä‘á» bÃ i                                                    â”‚
â”‚    âœ… Production-ready                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHÆ¯Æ NG ÃN 1: Binary Classification                                          â”‚
â”‚    File: 02_binary_attack_vs_normal.py                                       â”‚
â”‚    Target: Attack (1) vs Normal (0)                                          â”‚
â”‚    Best for: Real-time detection, IoT devices                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHÆ¯Æ NG ÃN 2: Multi-class Classification                                     â”‚
â”‚    File: 03_multiclass_4classes.py                                           â”‚
â”‚    Target: Normal, DDoS, DoS, Reconnaissance (4 classes)                     â”‚
â”‚    Best for: Forensics, detailed analysis                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ QUICK START (3 BÆ¯á»šC):

1ï¸âƒ£  Install dependencies:
    cd "/home/lamdx4/Projects/IOT prj"
    pip install -r requirements.txt

2ï¸âƒ£  Cháº¡y phÆ°Æ¡ng Ã¡n 3 (RECOMMENDED):
    python3 04_hierarchical_two_stage_classification.py
    
    Thá»i gian: ~5 phÃºt
    Output: 2 models + metrics + visualizations

3ï¸âƒ£  Xem káº¿t quáº£:
    models/
    â”œâ”€â”€ xgboost_stage1_binary_*.pkl
    â”œâ”€â”€ xgboost_stage2_multiclass_*.pkl
    â”œâ”€â”€ hierarchical_confusion_matrix.png
    â”œâ”€â”€ hierarchical_overview.png
    â””â”€â”€ metrics_hierarchical_*.pkl

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š TÃ€I LIá»†U:

ğŸ“– QUICK_START.md              â†’ HÆ°á»›ng dáº«n nhanh
ğŸ“– SO_SANH_3_PHUONG_AN.md      â†’ So sÃ¡nh chi tiáº¿t 3 phÆ°Æ¡ng Ã¡n
ğŸ“– RUN_MODELS.md               â†’ Troubleshooting
ğŸ““ notebooks/01_eda_dataset_analysis.ipynb â†’ EDA hoÃ n chá»‰nh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ DATASET INFO:

ğŸ“Š UNSW Bot-IoT Dataset (5% sample)
   Total: 36,685 samples
   Training: 29,348 | Testing: 7,337

âš ï¸  EXTREME IMBALANCE:
   Normal:          3 samples (0.01%)    â† Cá»°C Ká»² ÃT!
   Attack:     29,345 samples (99.99%)
   
   Attack breakdown:
   â”œâ”€ DDoS:           15,658 (53.34%)
   â”œâ”€ DoS:            12,975 (44.20%)
   â””â”€ Reconnaissance:    712 (2.43%)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ WHY TWO-STAGE APPROACH?

âŒ Binary (PA1):   Attack vs Normal
   Problem: KhÃ´ng biáº¿t loáº¡i táº¥n cÃ´ng

âŒ Multi-class (PA2): Normal + 3 attack types
   Problem: Normal bá»‹ "lost" giá»¯a 4 classes

âœ… Two-Stage (PA3): 
   Stage 1: PhÃ¡t hiá»‡n Attack vs Normal
   Stage 2: PhÃ¢n loáº¡i loáº¡i táº¥n cÃ´ng (chá»‰ attack samples)
   
   â†’ Stage 2 KHÃ”NG bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi Normal!
   â†’ Balanced hÆ¡n (DDoS: 53%, DoS: 44%, Recon: 2.4%)
   â†’ Best accuracy cho cáº£ 2 tasks!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ CHO Äá»€ TÃ€I:

Äá» tÃ i: "PhÃ¡t hiá»‡n táº¥n cÃ´ng IoT báº±ng Machine Learning"

âœ… Implement cáº£ 3 phÆ°Æ¡ng Ã¡n
âœ… So sÃ¡nh performance
âœ… Recommend PA3 (Two-Stage) vÃ¬:
   â€¢ Vá»«a "phÃ¡t hiá»‡n" vá»«a "phÃ¢n loáº¡i"
   â€¢ Xá»­ lÃ½ tá»‘t imbalance
   â€¢ Production-ready
   â€¢ ÄÃºng vá»›i má»i requirement

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ CHáº Y NGAY (2 CÃCH):

CÃCH 1: Jupyter Notebook (RECOMMENDED!) â­
    ./RUN_JUPYTER.sh
    hoáº·c:
    jupyter notebook notebooks/
    
    â†’ Chá»n: 04_hierarchical_two_stage.ipynb
    â†’ Cháº¡y tá»«ng cell báº±ng Shift+Enter

CÃCH 2: Python Script
    python3 04_hierarchical_two_stage_classification.py

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Need help? Check QUICK_START.md or SO_SANH_3_PHUONG_AN.md

Good luck! ğŸ€

